<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุงูุชุญูู</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">

    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-gradient-to-b from-green-400 to-green-600 text-white p-5">
            <h1 class="text-xl font-bold text-center">ุงูุฅุฏุงุฑุฉ</h1>
            <div class="flex flex-col items-center my-4">
                <img class="w-20 h-20 rounded-full" src="img/logo.png" alt="Admin">
                <p class="mt-2">ุงุณู ุงููุฏูุฑ</p>
            </div>
            <nav class="mt-5">
                <a href="manage-accounts.html" class="flex items-center p-3 hover:bg-green-700 rounded">
                    ๐๏ธ ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช
                </a>
                <a href="client-list.html" class="flex items-center p-3 hover:bg-green-700 rounded">
                    ๐ฅ ูุงุฆูุฉ ุงูุญุฑูุงุก
                </a>
                <a href="artisan-list.html" class="flex items-center p-3 hover:bg-green-700 rounded">
                    ๐ญ ูุงุฆูุฉ ุงูุญุฑูููู
                </a>
                <a href="user-messages.html" class="flex items-center p-3 hover:bg-green-700 rounded">
                    โ๏ธ ุฑุณุงุฆู ุงููุณุชุฎุฏู
                </a>
                <a href="settings.html" class="flex items-center p-3 hover:bg-green-700 rounded">
                    โ๏ธ ุงูุฅุนุฏุงุฏุงุช
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-8">
            <div class="text-right">
                <h2 class="text-xl font-semibold">ูุฑุญุจูุง ุจูุ ุงููุฏูุฑ ๐</h2>
                <p class="text-gray-500">ูู ุฎูุงู ููุญุฉ ุงูุชุญูู ูุฐูุ ููููู ุฅุฏุงุฑุฉ ุฌููุน ุงูุญุณุงุจุงุช ุงููุณุฌูุฉ ุนูู ุงูููุตุฉ ุจุณูููุฉ. ููููู ูุชุงุจุนุฉ ุนุฏุฏ ุงูุนููุงุก ูุงูุญุฑูููู ุงููุณุฌูููุ ูุงูุฅุดุฑุงู ุนูู ุญุณุงุจุงุชููุ ูุชุญุฏูุซ ูุนูููุงุชูู ุฃู ุชุนุทูู ุงูุญุณุงุจุงุช ุบูุฑ ุงููุดุทุฉ. ููุง ููููู ุงูุงุทูุงุน ุนูู ุงูุฑุณุงุฆู ุงููุงุฑุฏุฉ ูู ุงููุณุชุฎุฏููู ูุงูุชูุงุนู ูุนูู ูุชุญุณูู ุชุฌุฑุจุฉ ุงูุงุณุชุฎุฏุงู. ูุฐู ุงูุฃุฏุงุฉ ุชููุญู ุชุญูููุง ูุงููุงู ูุถูุงู ุชูุธูู ูุณูุฑ ุงูุนูู ุจุณูุงุณุฉ ุนูู ููุตุชู.   

                </p>
            </div>

            <!-- Stat Cards -->
            <div class="grid grid-cols-3 gap-6 mt-8">
                <div class="bg-green-400 p-6 rounded-lg text-white text-center shadow-md">
                    <p class="text-lg">ุฅุฌูุงูู ุงูุญุณุงุจุงุช</p>
                    <span id="totalUsers" class="text-2xl font-bold">...</span>
                </div>
                <div class="bg-green-400 p-6 rounded-lg text-white text-center shadow-md">
                    <p class="text-lg">ุงูุญุฑูุงุก</p>
                    <span id="totalClients" class="text-2xl font-bold">...</span>
                </div>
                <div class="bg-green-400 p-6 rounded-lg text-white text-center shadow-md">
                    <p class="text-lg">ุงูุญุฑูููู</p>
                    <span id="totalArtisans" class="text-2xl font-bold">...</span>
                </div>
                <div class="bg-green-400 p-6 rounded-lg text-white text-center shadow-md">
                    <p class="text-lg">ุงูุฑุณุงุฆู</p>
                    <span id="totalMessages" class="text-2xl font-bold">...</span>
                </div>
            </div>
        </main>
    </div>

    <script>
        async function fetchStats() {
            try {
                const response = await fetch("http://localhost:3001/admin");
                if (!response.ok) {
                    throw new Error("Erreur de serveur");
                }
                const data = await response.json();

                // Mise ร jour des cartes avec les valeurs rรฉelles
                document.getElementById("totalUsers").innerText = data.totalUsers || 0;
                document.getElementById("totalClients").innerText = data.clients || 0;
                document.getElementById("totalArtisans").innerText = data.artisans || 0;
                document.getElementById("totalMessages").innerText = data.messages || 0;
            } catch (error) {
                console.error("Erreur lors du chargement des statistiques :", error);
            }
        }

        // Charger les statistiques aprรจs le chargement de la page
        document.addEventListener("DOMContentLoaded", fetchStats);
    </script>

</body>
</html>
